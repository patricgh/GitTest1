<Activity x:Class="XrmWorkfloweebfddff3e7e4ab0a31cc0b8d492c920" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:mcwa="clr-namespace:Microsoft.Crm.Workflow.Activities;assembly=Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" xmlns:mxs="clr-namespace:Microsoft.Xrm.Sdk;assembly=Microsoft.Xrm.Sdk, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" xmlns:mxsq="clr-namespace:Microsoft.Xrm.Sdk.Query;assembly=Microsoft.Xrm.Sdk, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" xmlns:mxswa="clr-namespace:Microsoft.Xrm.Sdk.Workflow.Activities;assembly=Microsoft.Xrm.Sdk.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" xmlns:s="clr-namespace:System;assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" xmlns:srs="clr-namespace:System.Runtime.Serialization;assembly=System.Runtime.Serialization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" xmlns:this="clr-namespace:" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="InputEntities" Type="InArgument(scg:IDictionary(x:String, mxs:Entity))" />
    <x:Property Name="CreatedEntities" Type="InArgument(scg:IDictionary(x:String, mxs:Entity))" />
  </x:Members>
  <this:XrmWorkfloweebfddff3e7e4ab0a31cc0b8d492c920.InputEntities>
    <InArgument x:TypeArguments="scg:IDictionary(x:String, mxs:Entity)" />
  </this:XrmWorkfloweebfddff3e7e4ab0a31cc0b8d492c920.InputEntities>
  <this:XrmWorkfloweebfddff3e7e4ab0a31cc0b8d492c920.CreatedEntities>
    <InArgument x:TypeArguments="scg:IDictionary(x:String, mxs:Entity)" />
  </this:XrmWorkfloweebfddff3e7e4ab0a31cc0b8d492c920.CreatedEntities>
  <mva:VisualBasic.Settings>Assembly references and imported namespaces for internal implementation</mva:VisualBasic.Settings>
  <mxswa:Workflow>
    <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="StageStep13: 1. Validation">
      <mxswa:ActivityReference.Properties>
        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep14: Has the application been issued and does it need a permit created?">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep15_condition" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep15_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep15_2" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="statuscode" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep15_1]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400007", "Status" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep15_2]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep15_2 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep15_1]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep15_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep15">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep15_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep15">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="StopWorkflowStep16: Application not issued">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="StopWorkflowStep16_1" />
                              <Variable x:TypeArguments="x:String" Default="018438c9-855c-41cf-975e-829e09e06838" Name="stepLabelLabelId" />
                              <Variable x:TypeArguments="x:String" Name="stepLabelDescription">
                                <Variable.Default>
                                  <Literal x:TypeArguments="x:String" Value="" />
                                </Variable.Default>
                              </Variable>
                              <Variable x:TypeArguments="x:Int32" Default="1033" Name="stepLabelLanguageCode" />
                            </Sequence.Variables>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.String, "", "String" }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[StopWorkflowStep16_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <TerminateWorkflow DisplayName="StopWorkflowStep16: Application not issued" Exception="[New Microsoft.Xrm.Sdk.InvalidPluginExecutionException(Microsoft.Xrm.Sdk.OperationStatus.Succeeded)]" Reason="[DirectCast(StopWorkflowStep16_1, System.String)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep26: Is it a New Application and the Permit already exists?">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_1" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_4" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_5" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_8" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_9" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_11" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_12" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep27_13" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep27_14" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep27_3]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400000", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep27_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep27_4 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep27_3]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_2]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep27_7]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep27_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep27_8 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep27_7]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_6]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep27_10]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep27_12]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep27_12, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep27_11]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep27_11 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep27_10]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_9]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep27_6]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep27_9]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">Or</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep27_2]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep27_5]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_permitid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep27_14]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotNull</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep27_14]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_13]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep27_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep27_13]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep27_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep27">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep27_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep27">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="StopWorkflowStep30: The new application could not be issued as the Permit already exists, check with Administrator">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="StopWorkflowStep30_1" />
                              <Variable x:TypeArguments="x:String" Default="8ebf02c1-133a-43cc-bd90-9dab92659f2e" Name="stepLabelLabelId" />
                              <Variable x:TypeArguments="x:String" Default="The &quot;New Application&quot; or &quot;Partial Transfer To&quot; could not be issued because a permit already exists. Please contact your system administrator or support to complete the application." Name="stepLabelDescription" />
                              <Variable x:TypeArguments="x:Int32" Default="1033" Name="stepLabelLanguageCode" />
                            </Sequence.Variables>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.String, "The &amp;#34;&amp;#34;New Application&amp;#34;&amp;#34; or &amp;#34;&amp;#34;Partial Transfer To&amp;#34;&amp;#34; could not be issued because a permit already exists. Please contact your system administrator or support to complete the application.", "String" }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[StopWorkflowStep30_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <TerminateWorkflow DisplayName="StopWorkflowStep30: The new application could not be issued as the Permit already exists, check with Administrator" Exception="[New Microsoft.Xrm.Sdk.InvalidPluginExecutionException(Microsoft.Xrm.Sdk.OperationStatus.Canceled)]" Reason="[DirectCast(StopWorkflowStep30_1, System.String)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep28: Trying to update an existing Permit? Check the permit is linked to the application">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_1" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_4" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_5" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_7" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_8" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_9" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_11" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_12" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_13" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_14" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_15" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_16" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep29_17" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep29_18" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep29_3]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400004", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep29_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400002", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep29_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep29_4, ConditionBranchStep29_5 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep29_3]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_2]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_permitid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep29_7]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Null</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep29_7]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_6]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep29_2]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep29_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep29_10]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep29_11]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep29_11 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep29_10]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_9]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep29_14]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "dcdf80f2-a4b6-e811-a966-000d3a206976", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep29_16]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (from)", ConditionBranchStep29_16, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep29_15]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep29_15 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep29_14]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_13]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_permitid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep29_18]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Null</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep29_18]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_17]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep29_13]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep29_17]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_12]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep29_9]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep29_12]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">Or</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep29_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep29_8]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep29_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep29">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep29_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep29">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="StopWorkflowStep31: The application update could not be issued as the Permit is not linked, check with Administrator">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="StopWorkflowStep31_1" />
                              <Variable x:TypeArguments="x:String" Default="0011ecd5-375d-4f18-9257-cbd46102a2e3" Name="stepLabelLabelId" />
                              <Variable x:TypeArguments="x:String" Default="The application update could not be issued as the Permit is not linked. Please contact your system administrator or support to complete this application. " Name="stepLabelDescription" />
                              <Variable x:TypeArguments="x:Int32" Default="1033" Name="stepLabelLanguageCode" />
                            </Sequence.Variables>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.String, "The application update could not be issued as the Permit is not linked. Please contact your system administrator or support to complete this application. ", "String" }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[StopWorkflowStep31_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <TerminateWorkflow DisplayName="StopWorkflowStep31: The application update could not be issued as the Permit is not linked, check with Administrator" Exception="[New Microsoft.Xrm.Sdk.InvalidPluginExecutionException(Microsoft.Xrm.Sdk.OperationStatus.Canceled)]" Reason="[DirectCast(StopWorkflowStep31_1, System.String)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
        </sco:Collection>
      </mxswa:ActivityReference.Properties>
    </mxswa:ActivityReference>
    <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="StageStep12: 2. Processing">
      <mxswa:ActivityReference.Properties>
        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep1: New Applications and Partial Transfers (To), set-up Permit Record and SharePoint">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep2_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep2_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_3" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep2_4" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep2_5" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_7" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep2_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_9" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep2_11" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep2_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400000", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep2_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep2_3 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep2_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep2_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep2_6]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep2_7]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep2_7 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep2_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep2_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep2_9]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep2_11]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep2_11, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep2_10]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep2_10 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep2_9]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep2_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep2_5]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep2_8]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep2_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">Or</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep2_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep2_4]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep2_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep2">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep2_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep2">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="CreateStep3: Create Permit">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_1" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_2" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_3" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_4" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_5" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_6" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_7" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_8" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_9" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_10" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_11" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_12" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_13" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_14" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_15" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_16" />
                              <Variable x:TypeArguments="x:Object" Name="CreateStep3_17" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" Value="[New Entity(&quot;defra_permit&quot;)]" />
                            <mxswa:GetEntityProperty Attribute="defra_permitnumber" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_permitnumber" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_eawmlnumber" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_4]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_4 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_3]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_eawmlnumber" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_3]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_customerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_6]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_6 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_5]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_customerid" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_5]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_primarycontactid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_8]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_8 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_7]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_primarycontactid" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_7]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_areaid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_10]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_10 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_9]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_area_team" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_9]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">RetrieveCurrentTime</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters" xml:space="preserve">[New Object() {  }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:DateTime" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_12]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_12 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:DateTime" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_11]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_permitissuedate" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_11]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:DateTime" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_permitnumber" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_14]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_14 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_13]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_name" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_13]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Boolean, "True" }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:Boolean" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_15]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_updatesharepointmetadata" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_15]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:Boolean" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="ownerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[CreateStep3_17]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { CreateStep3_17 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[CreateStep3_16]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="ownerid" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" Value="[CreateStep3_16]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:CreateEntity EntityId="{x:Null}" DisplayName="CreateStep3: Create Permit" Entity="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" EntityName="defra_permit" />
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;CreateStep3_localParameter&quot;)]" Value="[CreatedEntities(&quot;CreateStep3_localParameter#Temp&quot;)]" />
                          </Sequence>
                          <Sequence DisplayName="UpdateStep4: Update Application with Permit and set the Update SharePoint metadata flag.">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep4_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep4_2" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;primaryEntity#Temp&quot;)]" Value="[New Entity(&quot;defra_application&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;primaryEntity#Temp&quot;).Id]" Value="[InputEntities(&quot;primaryEntity&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_permitid" Entity="[CreatedEntities(&quot;CreateStep3_localParameter&quot;)]" EntityName="defra_permit" Value="[UpdateStep4_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep4_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep4_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_permitid" Entity="[CreatedEntities(&quot;primaryEntity#Temp&quot;)]" EntityName="defra_application" Value="[UpdateStep4_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep4" Entity="[CreatedEntities(&quot;primaryEntity#Temp&quot;)]" EntityName="defra_application" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;primaryEntity&quot;)]" Value="[CreatedEntities(&quot;primaryEntity#Temp&quot;)]" />
                          </Sequence>
                          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="CustomActivityStep17: Copy Sites and Facilities to Permit">
                            <mxswa:ActivityReference.Properties>
                              <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                                <mxswa:ActivityReference AssemblyQualifiedName="Defra.Lp.Workflows.CopyApplicationDataToPermit, Defra.Lp.Workflows, Version=1.1.78.14, Culture=neutral, PublicKeyToken=30ed51a7675138f4" DisplayName="CustomActivityStep17: Copy Sites and Facilities to Permit" />
                              </sco:Collection>
                            </mxswa:ActivityReference.Properties>
                          </mxswa:ActivityReference>
                          <Sequence DisplayName="UpdateStep19: Set the Permit Document Location regarding to be the permit.">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep19_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep19_2" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation#Temp&quot;)]" Value="[New Entity(&quot;sharepointdocumentlocation&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation#Temp&quot;).Id]" Value="[InputEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_permitid" Entity="[CreatedEntities(&quot;CreateStep3_localParameter&quot;)]" EntityName="defra_permit" Value="[UpdateStep19_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep19_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep19_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="regardingobjectid" Entity="[CreatedEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation#Temp&quot;)]" EntityName="sharepointdocumentlocation" Value="[UpdateStep19_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep19" Entity="[CreatedEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation#Temp&quot;)]" EntityName="sharepointdocumentlocation" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation&quot;)]" Value="[CreatedEntities(&quot;related_defra_permitdocumentlocation#sharepointdocumentlocation#Temp&quot;)]" />
                          </Sequence>
                          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="InvokeSdkMessageStep9: Progress to next state on action PERMIT_ISSUED">
                            <mxswa:ActivityReference.Properties>
                              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep9_1" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep9_1_converted" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep9_2" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep9_3" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep9_2_converted" />
                              </sco:Collection>
                              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.String, "PERMIT_ISSUED", "String" }]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep9_1]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConvertCrmXrmTypes, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConvertCrmXrmTypes">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:Object" x:Key="Value">[InvokeSdkMessageStep9_1]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep9_1_converted]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:GetEntityProperty Attribute="defra_applicationid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[InvokeSdkMessageStep9_3]">
                                  <mxswa:GetEntityProperty.TargetType>
                                    <InArgument x:TypeArguments="s:Type">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                  </mxswa:GetEntityProperty.TargetType>
                                </mxswa:GetEntityProperty>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { InvokeSdkMessageStep9_3 }]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep9_2]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConvertCrmXrmTypes, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConvertCrmXrmTypes">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:Object" x:Key="Value">[InvokeSdkMessageStep9_2]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep9_2_converted]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mcwa:InvokeSdkMessageActivity DisplayName="InvokeSdkMessageStep9: Progress to next state on action PERMIT_ISSUED" SdkMessageEntityName="defra_application" SdkMessageId="58af578a-7548-e811-a958-000d3ab39dc2" SdkMessageName="defra_ApplicationStateMachineProcessing" SdkMessageRequestSuffix="">
                                  <mcwa:InvokeSdkMessageActivity.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="Action">[DirectCast(InvokeSdkMessageStep9_1_converted, System.String)]</InArgument>
                                    <InArgument x:TypeArguments="mxs:EntityReference" x:Key="Target">[DirectCast(InvokeSdkMessageStep9_2_converted, Microsoft.Xrm.Sdk.EntityReference)]</InArgument>
                                  </mcwa:InvokeSdkMessageActivity.Arguments>
                                  <mcwa:InvokeSdkMessageActivity.Properties>
                                    <x:String x:Key="Action#InArgumentRequired">Action</x:String>
                                    <sco:Collection x:TypeArguments="x:String" x:Key="Target#InArgumentEntityType">
                                      <x:String>defra_application</x:String>
                                    </sco:Collection>
                                    <x:String x:Key="Target#InArgumentRequired">Target</x:String>
                                  </mcwa:InvokeSdkMessageActivity.Properties>
                                </mcwa:InvokeSdkMessageActivity>
                              </sco:Collection>
                            </mxswa:ActivityReference.Properties>
                          </mxswa:ActivityReference>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep23: Update Primary Contact - For Variations, Transfers and Surrenders">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep24_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep24_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_4" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_5" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep24_6" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep24_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_9" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep24_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_11" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_12" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep24_13" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep24_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400004", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep24_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep24_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400002", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep24_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep24_3, ConditionBranchStep24_4, ConditionBranchStep24_5 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep24_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep24_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_primarycontactid" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityName="defra_permit" Value="[ConditionBranchStep24_8]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:GetEntityProperty Attribute="defra_primarycontactid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep24_9]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep24_9 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep24_8]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep24_7]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep24_11]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep24_13]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep24_13, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep24_12]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep24_12 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep24_11]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep24_10]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep24_7]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep24_10]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep24_6]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep24_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep24_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep24_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep24">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep24_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep24">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="UpdateStep25: Update Application Primary Contact">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep25_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep25_2" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep25_3" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep25_4" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" Value="[New Entity(&quot;defra_permit&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;).Id]" Value="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_customerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[UpdateStep25_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep25_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep25_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_customerid" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" Value="[UpdateStep25_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:GetEntityProperty Attribute="defra_primarycontactid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[UpdateStep25_4]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep25_4 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep25_3]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_primarycontactid" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" Value="[UpdateStep25_3]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep25" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" Value="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep45: Update Operator - For Transfers">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep46_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep46_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_3" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep46_4" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep46_5" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_7" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep46_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_9" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep46_11" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep46_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep46_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep46_3 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep46_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep46_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_customerid" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityName="defra_permit" Value="[ConditionBranchStep46_6]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:GetEntityProperty Attribute="defra_customerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep46_7]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep46_7 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep46_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep46_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep46_9]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep46_11]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep46_11, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep46_10]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep46_10 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep46_9]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep46_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep46_5]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep46_8]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep46_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep46_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep46_4]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep46_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep46">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep46_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep46">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="UpdateStep47: Update Application Operator">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep47_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep47_2" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" Value="[New Entity(&quot;defra_permit&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;).Id]" Value="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_customerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[UpdateStep47_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep47_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep47_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_customerid" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" Value="[UpdateStep47_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep47" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" Value="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep49: Update Area Team - For Variations, Transfers, and Surrenders">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep50_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep50_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_4" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_5" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep50_6" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep50_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_9" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep50_10" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_11" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_12" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep50_13" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep50_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400002", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep50_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep50_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400004", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep50_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep50_3, ConditionBranchStep50_4, ConditionBranchStep50_5 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep50_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep50_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_area_team" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityName="defra_permit" Value="[ConditionBranchStep50_8]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:GetEntityProperty Attribute="defra_areaid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep50_9]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep50_9 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep50_8]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep50_7]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep50_11]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep50_13]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep50_13, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep50_12]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep50_12 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep50_11]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep50_10]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep50_7]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep50_10]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep50_6]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep50_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep50_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep50_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep50">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep50_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep50">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="UpdateStep51: Update the Area Team">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep51_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep51_2" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" Value="[New Entity(&quot;defra_permit&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;).Id]" Value="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_areaid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[UpdateStep51_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep51_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep51_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_area_team" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" Value="[UpdateStep51_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep51" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" Value="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep36: Surrender, Transfer and Variations - Mirror Application Lines and Sites from the Application to the Permit">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep37_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep37_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_4" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep37_5" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep37_8" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep37_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep37_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400002", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep37_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep37_3, ConditionBranchStep37_4 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep37_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep37_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep37_6]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep37_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep37_8, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep37_7]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep37_7 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep37_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep37_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep37_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep37_5]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep37_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep37">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep37_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep37">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="CustomActivityStep38: Run Code Activity to copy Application to Permiit">
                            <mxswa:ActivityReference.Properties>
                              <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                                <mxswa:ActivityReference AssemblyQualifiedName="Defra.Lp.Workflows.CopyApplicationDataToPermit, Defra.Lp.Workflows, Version=1.1.78.14, Culture=neutral, PublicKeyToken=30ed51a7675138f4" DisplayName="CustomActivityStep38: Run Code Activity to copy Application to Permiit" />
                              </sco:Collection>
                            </mxswa:ActivityReference.Properties>
                          </mxswa:ActivityReference>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep52: Do we need to set the Permit EAWML number?">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep53_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep53_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep53_2" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep53_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep53_4" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_eawmlnumber" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityName="defra_permit" Value="[ConditionBranchStep53_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Null</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep53_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep53_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_eawmlnumber" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep53_4]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotNull</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep53_4]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep53_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep53_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep53_3]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep53_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep53">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep53_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep53">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="UpdateStep54: Set the Permit EAWML number">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep54_1" />
                              <Variable x:TypeArguments="x:Object" Name="UpdateStep54_2" />
                            </Sequence.Variables>
                            <Assign x:TypeArguments="mxs:Entity" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" Value="[New Entity(&quot;defra_permit&quot;)]" />
                            <Assign x:TypeArguments="s:Guid" To="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;).Id]" Value="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;).Id]" />
                            <mxswa:GetEntityProperty Attribute="defra_eawmlnumber" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[UpdateStep54_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { UpdateStep54_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[UpdateStep54_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:SetEntityProperty Attribute="defra_eawmlnumber" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" Value="[UpdateStep54_1]">
                              <mxswa:SetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                </InArgument>
                              </mxswa:SetEntityProperty.TargetType>
                            </mxswa:SetEntityProperty>
                            <mxswa:UpdateEntity DisplayName="UpdateStep54" Entity="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" EntityName="defra_permit" />
                            <Assign x:TypeArguments="mxs:Entity" To="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" Value="[CreatedEntities(&quot;related_defra_permitid#defra_permit#Temp&quot;)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep42: For Full Surrenders, deactivate the Permit">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep43_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep43_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_3" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep43_4" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep43_5" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_9" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_10" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep43_11" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_12" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep43_13" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep43_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400004", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep43_3 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep43_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep43_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep43_6]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "0ffb3006-a5b6-e811-a966-000d3a206976", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Full surrender", ConditionBranchStep43_8, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_7]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "c6f968ff-a4b6-e811-a966-000d3a206976", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_10]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Low risk surrender", ConditionBranchStep43_10, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_9]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep43_7, ConditionBranchStep43_9 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep43_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep43_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="statecode" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityName="defra_permit" Value="[ConditionBranchStep43_12]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "0", "State" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep43_13]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">Equal</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep43_13 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep43_12]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep43_11]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep43_5]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep43_11]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep43_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep43_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep43_4]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep43_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep43">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep43_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep43">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <mxswa:SetState DisplayName="SetStateStep44: Surrender Permit" Entity="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;)]" EntityId="[InputEntities(&quot;related_defra_permitid#defra_permit&quot;).Id]" EntityName="defra_permit">
                            <mxswa:SetState.State>
                              <InArgument x:TypeArguments="mxs:OptionSetValue">
                                <mxswa:ReferenceLiteral x:TypeArguments="mxs:OptionSetValue">
                                  <mxs:OptionSetValue ExtensionData="{x:Null}" Value="1" />
                                </mxswa:ReferenceLiteral>
                              </InArgument>
                            </mxswa:SetState.State>
                            <mxswa:SetState.Status>
                              <InArgument x:TypeArguments="mxs:OptionSetValue">
                                <mxswa:ReferenceLiteral x:TypeArguments="mxs:OptionSetValue">
                                  <mxs:OptionSetValue ExtensionData="{x:Null}" Value="910400000" />
                                </mxswa:ReferenceLiteral>
                              </InArgument>
                            </mxswa:SetState.Status>
                          </mxswa:SetState>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep39: Let state machine know the permit has been updated">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep40_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep40_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_2" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_4" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_5" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep40_6" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_7" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_8" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep40_9" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_applicationtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep40_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400004", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep40_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400003", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep40_4]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.OptionSetValue, "910400002", "Picklist" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:OptionSetValue" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep40_5]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">In</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep40_3, ConditionBranchStep40_4, ConditionBranchStep40_5 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep40_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep40_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="defra_application_subtype" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep40_7]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.Guid, "85a513b8-09d6-e811-a982-000d3ab311f1", "UniqueIdentifier" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="s:Guid" />
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep40_9]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, "defra_application_subtypes", "Partial transfer (to)", ConditionBranchStep40_9, "Lookup" }]</InArgument>
                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[ConditionBranchStep40_8]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep40_8 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep40_7]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep40_6]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep40_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep40_6]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep40_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep40">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep40_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep40">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="InvokeSdkMessageStep41: Progress to next state on action PERMIT_UPDATED">
                            <mxswa:ActivityReference.Properties>
                              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep41_1" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep41_1_converted" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep41_2" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep41_3" />
                                <Variable x:TypeArguments="x:Object" Name="InvokeSdkMessageStep41_2_converted" />
                              </sco:Collection>
                              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.String, "Progress to next state on action PERMIT_ISSUED", "String" }]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep41_1]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConvertCrmXrmTypes, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConvertCrmXrmTypes">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:Object" x:Key="Value">[InvokeSdkMessageStep41_1]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="x:String" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep41_1_converted]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:GetEntityProperty Attribute="defra_applicationid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[InvokeSdkMessageStep41_3]">
                                  <mxswa:GetEntityProperty.TargetType>
                                    <InArgument x:TypeArguments="s:Type">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                  </mxswa:GetEntityProperty.TargetType>
                                </mxswa:GetEntityProperty>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { InvokeSdkMessageStep41_3 }]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep41_2]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConvertCrmXrmTypes, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConvertCrmXrmTypes">
                                  <mxswa:ActivityReference.Arguments>
                                    <InArgument x:TypeArguments="x:Object" x:Key="Value">[InvokeSdkMessageStep41_2]</InArgument>
                                    <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                    </InArgument>
                                    <OutArgument x:TypeArguments="x:Object" x:Key="Result">[InvokeSdkMessageStep41_2_converted]</OutArgument>
                                  </mxswa:ActivityReference.Arguments>
                                </mxswa:ActivityReference>
                                <mcwa:InvokeSdkMessageActivity DisplayName="InvokeSdkMessageStep41: Progress to next state on action PERMIT_UPDATED" SdkMessageEntityName="defra_application" SdkMessageId="58af578a-7548-e811-a958-000d3ab39dc2" SdkMessageName="defra_ApplicationStateMachineProcessing" SdkMessageRequestSuffix="">
                                  <mcwa:InvokeSdkMessageActivity.Arguments>
                                    <InArgument x:TypeArguments="x:String" x:Key="Action">[DirectCast(InvokeSdkMessageStep41_1_converted, System.String)]</InArgument>
                                    <InArgument x:TypeArguments="mxs:EntityReference" x:Key="Target">[DirectCast(InvokeSdkMessageStep41_2_converted, Microsoft.Xrm.Sdk.EntityReference)]</InArgument>
                                  </mcwa:InvokeSdkMessageActivity.Arguments>
                                  <mcwa:InvokeSdkMessageActivity.Properties>
                                    <x:String x:Key="Action#InArgumentRequired">Action</x:String>
                                    <sco:Collection x:TypeArguments="x:String" x:Key="Target#InArgumentEntityType">
                                      <x:String>defra_application</x:String>
                                    </sco:Collection>
                                    <x:String x:Key="Target#InArgumentRequired">Target</x:String>
                                  </mcwa:InvokeSdkMessageActivity.Properties>
                                </mcwa:InvokeSdkMessageActivity>
                              </sco:Collection>
                            </mxswa:ActivityReference.Properties>
                          </mxswa:ActivityReference>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
        </sco:Collection>
      </mxswa:ActivityReference.Properties>
    </mxswa:ActivityReference>
    <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="StageStep32: 2. Post Processing">
      <mxswa:ActivityReference.Properties>
        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
          <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionSequence, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionStep33: Assign back to Determining Officer?">
            <mxswa:ActivityReference.Arguments>
              <InArgument x:TypeArguments="x:Boolean" x:Key="Wait">False</InArgument>
            </mxswa:ActivityReference.Arguments>
            <mxswa:ActivityReference.Properties>
              <sco:Collection x:TypeArguments="Variable" x:Key="Variables">
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep34_condition" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep34_1" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep34_2" />
                <Variable x:TypeArguments="x:Boolean" Default="False" Name="ConditionBranchStep34_3" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep34_4" />
                <Variable x:TypeArguments="x:Object" Name="ConditionBranchStep34_5" />
              </sco:Collection>
              <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                <mxswa:GetEntityProperty Attribute="defra_determinedbyid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep34_2]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotNull</InArgument>
                    <x:Null x:Key="Parameters" />
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep34_2]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep34_1]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:GetEntityProperty Attribute="ownerid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep34_4]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:GetEntityProperty Attribute="defra_determinedbyid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[ConditionBranchStep34_5]">
                  <mxswa:GetEntityProperty.TargetType>
                    <InArgument x:TypeArguments="s:Type">
                      <mxswa:ReferenceLiteral x:TypeArguments="s:Type">
                        <x:Null />
                      </mxswa:ReferenceLiteral>
                    </InArgument>
                  </mxswa:GetEntityProperty.TargetType>
                </mxswa:GetEntityProperty>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:ConditionOperator" x:Key="ConditionOperator">NotEqual</InArgument>
                    <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { ConditionBranchStep34_5 }]</InArgument>
                    <InArgument x:TypeArguments="x:Object" x:Key="Operand">[ConditionBranchStep34_4]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep34_3]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateLogicalCondition, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateLogicalCondition">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="mxsq:LogicalOperator" x:Key="LogicalOperator">And</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="LeftOperand">[ConditionBranchStep34_1]</InArgument>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="RightOperand">[ConditionBranchStep34_3]</InArgument>
                    <OutArgument x:TypeArguments="x:Boolean" x:Key="Result">[ConditionBranchStep34_condition]</OutArgument>
                  </mxswa:ActivityReference.Arguments>
                </mxswa:ActivityReference>
                <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.ConditionBranch, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep34">
                  <mxswa:ActivityReference.Arguments>
                    <InArgument x:TypeArguments="x:Boolean" x:Key="Condition">[ConditionBranchStep34_condition]</InArgument>
                  </mxswa:ActivityReference.Arguments>
                  <mxswa:ActivityReference.Properties>
                    <mxswa:ActivityReference x:Key="Then" AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.Composite, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="ConditionBranchStep34">
                      <mxswa:ActivityReference.Properties>
                        <sco:Collection x:TypeArguments="Variable" x:Key="Variables" />
                        <sco:Collection x:TypeArguments="Activity" x:Key="Activities">
                          <Sequence DisplayName="AssignStep35: Assign to Determined By">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:Object" Name="AssignStep35_1" />
                              <Variable x:TypeArguments="x:Object" Name="AssignStep35_2" />
                              <Variable x:TypeArguments="x:Object" Name="AssignStep35_3" />
                            </Sequence.Variables>
                            <mxswa:GetEntityProperty Attribute="defra_determinedbyid" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityName="defra_application" Value="[AssignStep35_2]">
                              <mxswa:GetEntityProperty.TargetType>
                                <InArgument x:TypeArguments="s:Type">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                              </mxswa:GetEntityProperty.TargetType>
                            </mxswa:GetEntityProperty>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">SelectFirstNonNull</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { AssignStep35_2 }]</InArgument>
                                <InArgument x:TypeArguments="s:Type" x:Key="TargetType">
                                  <mxswa:ReferenceLiteral x:TypeArguments="s:Type" Value="mxs:EntityReference" />
                                </InArgument>
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[AssignStep35_1]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:ActivityReference AssemblyQualifiedName="Microsoft.Crm.Workflow.Activities.EvaluateExpression, Microsoft.Crm.Workflow, Version=9.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" DisplayName="EvaluateExpression">
                              <mxswa:ActivityReference.Arguments>
                                <InArgument x:TypeArguments="x:String" x:Key="ExpressionOperator">CreateCrmType</InArgument>
                                <InArgument x:TypeArguments="s:Object[]" x:Key="Parameters">[New Object() { Microsoft.Xrm.Sdk.Workflow.WorkflowPropertyType.EntityReference, AssignStep35_1, "Owner" }]</InArgument>
                                <x:Null x:Key="TargetType" />
                                <OutArgument x:TypeArguments="x:Object" x:Key="Result">[AssignStep35_3]</OutArgument>
                              </mxswa:ActivityReference.Arguments>
                            </mxswa:ActivityReference>
                            <mxswa:AssignEntity DisplayName="AssignStep35: Assign to Determined By" Entity="[InputEntities(&quot;primaryEntity&quot;)]" EntityId="[InputEntities(&quot;primaryEntity&quot;).Id]" EntityName="defra_application" Owner="[DirectCast(AssignStep35_3, Microsoft.Xrm.Sdk.EntityReference)]" />
                          </Sequence>
                        </sco:Collection>
                      </mxswa:ActivityReference.Properties>
                    </mxswa:ActivityReference>
                    <x:Null x:Key="Else" />
                    <x:Null x:Key="Description" />
                  </mxswa:ActivityReference.Properties>
                </mxswa:ActivityReference>
              </sco:Collection>
              <x:Boolean x:Key="ContainsElseBranch">False</x:Boolean>
            </mxswa:ActivityReference.Properties>
          </mxswa:ActivityReference>
        </sco:Collection>
      </mxswa:ActivityReference.Properties>
    </mxswa:ActivityReference>
  </mxswa:Workflow>
</Activity>